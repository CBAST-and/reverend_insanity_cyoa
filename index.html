<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reverend Insanity CYOA</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>Reverend Insanity CYOA</h1>
            <p class="subtitle" style="font-size: 1.1rem; margin-top: 15px; margin-bottom: 20px; line-height: 1.8; max-width: 900px; margin-left: auto; margin-right: auto;">
                <strong>CYOA</strong> = <strong>Create Your Own Adventure</strong><br><br>
                In the vast expanse of the Gu World, where cultivation reigns supreme and only the strong survive, countless stories unfold. 
                Gu Masters refine mystical insects called Gu to gain supernatural powers, engage in deadly schemes, and pursue immortality. 
                In this world where human nature is laid bare and morality is but a tool for the weak, your journey is about to begin.<br><br>
                You find yourself with a rare opportunityâ€”the chance to be reborn into this world with foreknowledge and choices that will shape your destiny. 
                Will you walk the righteous path, upholding justice and protecting the weak? Or will you embrace the demonic path, pursuing power at any cost? 
                Perhaps you'll forge your own way, a lone cultivator bound by no faction.<br><br>
                One night, you drift to sleep in your mundane world, and when you awaken... you are no longer on Earth. 
                The Gu World awaits, and the choices you make here will determine whether you rise to become a Venerable, 
                reshaping heaven and earth itself, or fall as just another stepping stone for the ambitious.<br><br>
                <strong>Your journey begins now. Choose wisely.</strong>
            </p>
            <p class="subtitle" style="font-size: 0.9rem; color: var(--text-muted); margin-top: 25px;">
                Inspired and copied from <a href="https://www.reddit.com/user/GashGrunt/">u/GashGrunt</a>, 
                <a href="https://www.reddit.com/user/smie27/">u/smie27</a>, and 
                <a href="https://www.reddit.com/user/alphanumericsprawl/">u/alphanumericsprawl</a>
            </p>
        </header>

        <!-- Mode Selection (shown first) -->
        <section id="mode-selection" class="mode-selection">
            <h2>Select Your Difficulty</h2>
            <div class="mode-grid" id="mode-grid"></div>
        </section>

        <!-- Points Display (sticky, shown after mode selected) -->
        <div id="points-display" class="points-display" style="display: none;">
            <div class="points-info">
                <span class="label">Available Points:</span>
                <span id="current-points" class="value">1000</span>
            </div>
            <div class="points-info">
                <span class="label">Starting Points:</span>
                <span id="starting-points" class="value">1000</span>
            </div>
            <div class="points-actions">
                <button id="theme-toggle-btn" class="btn btn-theme" title="Toggle Light/Dark Mode">ðŸŒ“</button>
                <button id="export-btn" class="btn btn-success">Export</button>
                <button id="import-btn" class="btn btn-primary">Import</button>
                <button id="reset-btn" class="btn btn-danger">Reset</button>
            </div>
        </div>

        <!-- Tab Navigation -->
        <nav id="tab-navigation" class="tab-navigation" style="display: none;">
            <button class="tab-btn active" data-tab="basics">Basics</button>
            <button class="tab-btn" data-tab="location">Location</button>
            <button class="tab-btn" data-tab="aptitude">Aptitude</button>
            <button class="tab-btn" data-tab="power">Power</button>
            <button class="tab-btn" data-tab="perks">Perks</button>
            <button class="tab-btn" data-tab="premium">Premium</button>
            <button class="tab-btn" data-tab="challenges">Challenges</button>
            <button class="tab-btn" data-tab="summary">Summary</button>
        </nav>

        <!-- Main Content Area -->
        <main id="cyoa-content" style="display: none;">
            
            <!-- BASICS TAB -->
            <div id="tab-basics" class="tab-content active">
                <section class="category">
                    <h2 class="category-title">Timeline</h2>
                    <p class="category-description">Choose when you enter the Gu world</p>
                    <div id="timeline-options" class="options-grid"></div>
                </section>

                <section class="category" id="prep-section">
                    <h2 class="category-title">Extra Preparation</h2>
                    <div id="prep-options" class="options-grid"></div>
                </section>

                <section class="category" id="race-section">
                    <h2 class="category-title">Race</h2>
                    <div id="race-options" class="options-grid"></div>
                </section>

                <section class="category" id="sex-section">
                    <h2 class="category-title">Sex</h2>
                    <div id="sex-options" class="options-grid"></div>
                </section>

                <section class="category" id="appearance-section">
                    <h2 class="category-title">Appearance</h2>
                    <div id="appearance-options" class="options-grid"></div>
                </section>

                <section class="category">
                    <h2 class="category-title">Special Traits</h2>
                    <p class="category-description">Multiple selection allowed</p>
                    <div id="special-traits-options" class="options-grid"></div>
                </section>
            </div>

            <!-- LOCATION TAB -->
            <div id="tab-location" class="tab-content">
                <section class="category" id="clan-tier-section">
                    <h2 class="category-title">Clan Tier</h2>
                    <div id="clan-tier-options" class="options-grid"></div>
                </section>

                <section class="category" id="clan-status-section" style="display: none;">
                    <h2 class="category-title">Clan Status</h2>
                    <p class="category-description" id="clan-status-desc">Select a clan tier first</p>
                    <div id="clan-status-options" class="options-grid"></div>
                </section>

                <section class="category">
                    <h2 class="category-title">Special Birth</h2>
                    <div id="special-birth-options" class="options-grid"></div>
                    <div id="custom-immortal-input" style="display: none; margin-top: 20px;">
                        <label for="immortal-description" class="input-label">Describe your immortal parents:</label>
                        <textarea id="immortal-description" rows="6" class="custom-textarea" placeholder="Enter personalities, clan affiliation, location, and other details..."></textarea>
                    </div>
                </section>
            </div>

            <!-- APTITUDE TAB -->
            <div id="tab-aptitude" class="tab-content">
                <section class="category">
                    <h2 class="category-title">Aptitude</h2>
                    <p class="category-description">Your cultivation talent - dictates mortal life trajectory</p>
                    <div id="aptitude-options" class="options-grid"></div>
                </section>

                <section class="category">
                    <h2 class="category-title">Attainment</h2>
                    <p class="category-description">Path expertise gained through practice</p>
                    <div id="attainment-limits" class="attainment-info">
                        <p><strong>Limits:</strong> <span id="gm-count">0/4</span> Grandmaster | <span id="ggm-count">0/2</span> Great Grandmaster</p>
                        <p id="no-limits-msg" style="display: none; color: var(--accent-positive);">âœ“ Limits removed by Small Dream Immortal Venerable</p>
                    </div>
                    <div class="attainment-builder">
                        <div class="attainment-controls">
                            <select id="attainment-path-select">
                                <option value="">-- Choose Path --</option>
                            </select>
                            <button id="add-master-btn" class="btn">Master (-50 CP)</button>
                            <button id="add-grandmaster-btn" class="btn">Grandmaster (-100 CP)</button>
                            <button id="add-greatgm-btn" class="btn">Great GM (-200 CP)</button>
                        </div>
                        <div id="attainment-list" class="attainment-list">
                            <p class="info-text">No attainments selected yet</p>
                        </div>
                    </div>
                </section>
            </div>

            <!-- POWER TAB -->
            <div id="tab-power" class="tab-content">
                <section class="category">
                    <h2 class="category-title">Luck</h2>
                    <p class="category-description">Lifelong, near-immutable luck modifications</p>
                    <div id="luck-options" class="options-grid"></div>
                </section>

                <section class="category">
                    <h2 class="category-title">Soul Foundation</h2>
                    <p class="category-description">Must buy each lower level to get specific foundation</p>
                    <div id="soul-options" class="options-grid"></div>
                </section>

                <section class="category">
                    <h2 class="category-title">Venerable Inheritances</h2>
                    <p class="category-description">May only choose ONE venerable inheritance</p>
                    <div id="venerable-options" class="options-grid"></div>
                </section>
            </div>

            <!-- PERKS TAB -->
            <div id="tab-perks" class="tab-content">
                <section class="category">
                    <h2 class="category-title">Grab Bag Perks</h2>
                    <div id="grab-bag-bundle-options" class="options-grid"></div>
                    <div id="grab-bag-selection" style="display: none; margin-top: 20px;">
                        <h3>Select Your Perks (<span id="grab-selected">0</span>/<span id="grab-max">0</span>)</h3>
                        <div id="grab-bag-items" class="grab-bag-grid"></div>
                    </div>
                </section>

                <div id="tier1-section"></div>
                <div id="tier2-section"></div>
                <div id="tier3-section"></div>
                <div id="tier4-section"></div>
                <div id="tier5-section"></div>
            </div>

            <!-- PREMIUM TAB -->
            <div id="tab-premium" class="tab-content">
                <section class="category">
                    <h2 class="category-title">Premium Gu Worms</h2>
                    <p class="category-description">Special Immortal Gu transcending Gu world limits</p>
                    <div id="premium-gu-options" class="options-grid"></div>
                </section>
            </div>

            <!-- CHALLENGES TAB -->
            <div id="tab-challenges" class="tab-content">
                <section class="category">
                    <h2 class="category-title">Missions</h2>
                    <p class="category-description warning">Complete within 300 years or die. No escape.</p>
                    <div id="missions-options" class="options-grid"></div>
                </section>

                <section class="category">
                    <h2 class="category-title">Drawbacks</h2>
                    <p class="category-description warning">Cannot take same drawback twice. Overwrite other options.</p>
                    <div id="drawbacks-options" class="options-grid"></div>
                </section>
            </div>

            <!-- SUMMARY TAB -->
            <div id="tab-summary" class="tab-content">
                <section class="summary-section">
                    <h2>Character Summary</h2>
                    <div id="summary-content" class="summary-content"></div>
                </section>
            </div>

        </main>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>